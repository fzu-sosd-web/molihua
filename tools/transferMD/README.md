# transfer.py 使用说明

## 简介

[`transfer.py`](./transfer.py) 是一个基于正则表达式, 用于处理文本文件中特定格式的脚本。它可以将 `==text==` 替换为 `<mark>text</mark>`，并处理 LaTeX 公式的格式问题。

> 只是一个小脚本工具, 未经过复杂测试, 欢迎协助fix
>
> 本说明由Copilot生成, 懒狗是这样的XD

## 功能

1. 将 `==text==` 替换为 `<mark>text</mark>`。
2. 将 `$ text $` 替换为 `$text$`，避免前后出现的空格导致公式无法正常显示。
3. 在 `$$\n\n$$` 之间再加一个换行符。
4. 在文字和换行后的 `$$` 之间再加一个换行符。
5. 将 `$$` 段内部的连续换行符替换为一个换行符。

## 使用方法

### 运行脚本

1. 打开终端（在 Windows 上可以使用命令提示符或 PowerShell）。

2. 导航到脚本所在的目录。

3. 运行以下命令：

   ```shell
   python transfer.py <filename>
   ```

   其中 `<filename>` 是你想要处理的文件的路径。你也可以使用通配符（例如 `*.txt`）来处理多个文件。

### 示例

假设你有一个文件 `example.txt`，你可以运行以下命令来处理该文件：

```shell
python transfer.py example.txt
```

或者，如果你想处理当前目录下的所有 `.txt` 文件：

```shell
python transfer.py *.txt
```



## 效果

运行脚本后，文件中的内容将会被以下规则处理：

- `==text==` 将被替换为 `<mark>text</mark>`。
- `$ text $` 将被替换为 `$text$`。
- `$$\n\n$$` 之间将再加一个换行符。
- 在文字和换行后的 `$$` 之间将再加一个换行符。
- `$$` 段内部的连续换行符将被替换为一个换行符。

处理完成后，脚本会将修改后的内容写回文件，并在终端输出处理的文件名。

## 注意事项

- 目前脚本无法处理如 `text$$LaTeX$$text` 以及 LaTeX 中有换行符的情况，这种情况需要手动修复。